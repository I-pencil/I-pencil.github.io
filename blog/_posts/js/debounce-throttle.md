---
title: 防抖(debounce)和节流(throttle)
date: 2019-01-11
tags:
  - JavaScript
author: lili
location: shenzhen
---

防抖和节流是两个相似的技术，都是为了减少一个函数的触发次数，以便提高性能或者说避免资源浪费。

## debounce 与 throttle 的区别

debounce：先设定一个执行周期n，当调用动作n毫秒后，才会执行该动作，若在这n毫秒内又调用此动作则将重新计算执行时间。

throttle： 先设定一个执行周期n，当调用动作n毫秒后，则执行该动作，然后进入下一个新周期。在n毫秒内，即使又调用此动作也不会重新计时。

我们来看下他们的场景：

**debounce 是电梯场景**：

假设你正在准备乘坐电梯,并且电梯门准备关上的时候,你的同事来了,出于礼貌,我们需要停止电梯的关闭,让同事进入.假设源源不断的有同事进来的话,电梯就需要处于一种待机的状态,一直等待人员的进入,直到没有新的同事进入或者说电梯满了,这个时候,电梯才能运行.另外,同事的进入需要在电梯门的关闭之前,否则的话,就只能等下一趟了。

**throttle 是地铁场景**：

地铁到站了，在靠站期间，无论多少人，人们可以进入地铁，但是地铁靠站时间一到，无论站台还有没有人，地铁都会关闭启动。

## debounce 与 throttle 的使用场景

### debounce的使用场景

- scroll事件（资源的加载）
- mousemove事件（拖拽）
- resize事件（响应式布局样式）
- keyup事件（输入框文字停止打字后才进行校验）

### throttle 的使用场景

- click事件（不停快速点击按钮，减少触发频次）
- scroll事件（返回顶部按钮出现\隐藏事件触发）
- keyup事件（输入框文字与显示栏内容复制同步）
- 减少发送ajax请求，降低请求频率
