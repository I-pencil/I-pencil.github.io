(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{597:function(v,_,t){"use strict";t.r(_);var d=t(11),a=Object(d.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h3",{attrs:{id:"使用-dockerignore-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-dockerignore-文件"}},[v._v("#")]),v._v(" 使用 .dockerignore 文件")]),v._v(" "),t("p",[v._v("可以通过 .dockerignore 文件来让Docker忽略匹配路径或文件，在创建镜像时不将无关数据发送到服务器。")]),v._v(" "),t("p",[v._v("比如：")]),v._v(" "),t("div",{staticClass:"language-.dockerignore extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[v._v("*/temp *\n*/*/temp *\ntmp?\n~*\nDockerfile\n!README.md\n")])])]),t("ul",[t("li",[v._v("*: 表示任意多个字符；")]),v._v(" "),t("li",[v._v("?: 表示单个字符；")]),v._v(" "),t("li",[v._v("!: 表示不匹配，即不忽略指定的路径或文件；")])]),v._v(" "),t("table",[t("tr",[t("th",[v._v("指令")]),v._v(" "),t("th",[v._v("格式")]),v._v(" "),t("th",[v._v("实例")]),v._v(" "),t("th",[v._v("说明")])]),v._v(" "),t("tr",[t("td",[v._v("ARG")]),v._v(" "),t("td",[v._v("ARG <name>[=<default value>]")]),v._v(" "),t("td",[v._v("ARG VERSION=9.3")]),v._v(" "),t("td",[v._v("定义创建镜像过程中使用的变量")])]),v._v(" "),t("tr",[t("td",[v._v("FROM")]),v._v(" "),t("td",[v._v("1.FROM <image> [AS <name>] "),t("br"),v._v("2.FROM <image>:<tag> [AS <name>] "),t("br"),v._v("3.FROM <image>@<digest> [AS <name>]")]),v._v(" "),t("td",[v._v("FROM debian:${VERSION}")]),v._v(" "),t("td",[v._v("指定所创建镜像的基础镜像")])]),v._v(" "),t("tr",[t("td",[v._v("LABEL")]),v._v(" "),t("td",[v._v("LABEL <key1>=<value1> <key2>=<value2>")]),v._v(" "),t("td",[v._v('LABEL version="1.0.0-rc3"')]),v._v(" "),t("td",[v._v("为生成的镜像添加元数据标签信息")])]),v._v(" "),t("tr",[t("td",[v._v("EXPOSE")]),v._v(" "),t("td",[v._v("EXPOSE <port> [<port>/<protocol>]")]),v._v(" "),t("td",[v._v("EXPOSE 22 808443")]),v._v(" "),t("td",[v._v("声明镜像内服务监听的端口")])]),v._v(" "),t("tr",[t("td",[v._v("ENV")]),v._v(" "),t("td",[v._v("1.ENV <key> <value> "),t("br"),v._v("2.ENV <key>=<value>")]),v._v(" "),t("td",[v._v("ENV APP_HOMT=/usr/local/app")]),v._v(" "),t("td",[v._v("指定环境变量")])]),v._v(" "),t("tr",[t("td",[v._v("ENTRYPOINT")]),v._v(" "),t("td",[v._v('1.ENTRYPOINT ["executable", "param1", "param2"]'),t("br"),v._v("2.ENTRYPOINT command param1 param2")]),v._v(" "),t("td",[v._v("--")]),v._v(" "),t("td",[v._v("指定镜像的默认入口命令")])]),v._v(" "),t("tr",[t("td",[v._v("VOLUME")]),v._v(" "),t("td",[v._v('VOLUME ["/data"]')]),v._v(" "),t("td",[v._v("--")]),v._v(" "),t("td",[v._v("创建一个数据卷挂载点")])]),v._v(" "),t("tr",[t("td",[v._v("USER")]),v._v(" "),t("td",[v._v("USER daemon")]),v._v(" "),t("td",[v._v("--")]),v._v(" "),t("td",[v._v("指定运行容器时的用户名或UID")])]),v._v(" "),t("tr",[t("td",[v._v("WORKDIR")]),v._v(" "),t("td",[v._v("WORKDIR /path/to/workdir")]),v._v(" "),t("td",[v._v("--")]),v._v(" "),t("td",[v._v("配置工作目录")])]),v._v(" "),t("tr",[t("td",[v._v("ONBUILD")]),v._v(" "),t("td",[v._v("ONBUILD [INSTRUCTION]")]),v._v(" "),t("td",[v._v("ONBUILD ADD . /app/src")]),v._v(" "),t("td",[v._v("创建子镜像时指定自动执行的操作命令")])]),v._v(" "),t("tr",[t("td",[v._v("STOPSIGNAL")]),v._v(" "),t("td",[v._v("STOPSIGNAL signal")]),v._v(" "),t("td",[v._v("--")]),v._v(" "),t("td",[v._v("指定退出的信号值")])]),v._v(" "),t("tr",[t("td",[v._v("HEALTHCHECK")]),v._v(" "),t("td",[v._v("1.HEALTHCHECK [OPTIONS] CMD command"),t("br"),v._v("2.HEALTHCHECK NONE")]),v._v(" "),t("td"),v._v(" "),t("td",[v._v("配置所启动容器如何进行健康检查")])]),v._v(" "),t("tr",[t("td",[v._v("SHELL")]),v._v(" "),t("td",[v._v('SHELL ["executable", "param1"]')]),v._v(" "),t("td",[v._v('SHELL ["/bin/sh", "-c"]')]),v._v(" "),t("td",[v._v("指定默认的 shell 类型")])]),v._v(" "),t("tr",[t("td",[v._v("RUN")]),v._v(" "),t("td",[v._v("1.RUN <command>"),t("br"),v._v('2.RUN ["executable", "param1","param2"]')]),v._v(" "),t("td",[v._v('RUN ["/bin/bash","-c","echo hello"]')]),v._v(" "),t("td",[v._v("运行指定命令")])]),v._v(" "),t("tr",[t("td",[v._v("CMD")]),v._v(" "),t("td",[v._v('1.CMD ["executable", "param1","param2"]'),t("br"),v._v("2.CMD command param1 param2"),t("br"),v._v('3.CMD ["param1","param2"]')]),v._v(" "),t("td"),v._v(" "),t("td",[v._v("启动容器时指定默认执行的命令")])]),v._v(" "),t("tr",[t("td",[v._v("ADD")]),v._v(" "),t("td",[v._v("ADD <src> <dest>")]),v._v(" "),t("td",[v._v("ADD *.c /code/")]),v._v(" "),t("td",[v._v("将src目录下的内容添加到容器中的dest目录下")])]),v._v(" "),t("tr",[t("td",[v._v("COPY")]),v._v(" "),t("td",[v._v("COPY <src> <dest>")]),v._v(" "),t("td"),v._v(" "),t("td",[v._v("复制内容到镜像")])])])])}),[],!1,null,null,null);_.default=a.exports}}]);